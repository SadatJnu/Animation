(function( $ ) { $.fn.scrollMation = function(o) {var h = $( window ).height(); var s = $.extend({action : 'fadeIn',scrollPos: h-(h*.15),duration: (h-247)*.35,startPos: 600,z: 0,}, o); var gP = function(e){a = e.offset().top;return a - $(window).scrollTop();}; var gO = function(p) {return {"opacity": (p/100),"zoom":1,"filter": "progid:DXImageTransform.Microsoft.Alpha(opacity="+p+")","-ms-filter": "\"progid:DXImageTransform.Microsoft.Alpha(opacity="+p+")\"","filter": "alpha(opacity="+p+")", "-moz-opacity": (p/100),"-khtml-opacity": (p/100)};}; var i = function(e){c = gP(e);z = s.scrollPos - s.duration;if(c >= s.scrollPos){e.css(gO(0));} else if(c <= z){e.css(gO(100));} else {o = (s.scrollPos-c)/(s.scrollPos-z);e.css(gO(o*100));}}; var n = function(e){c = gP(e);z = s.scrollPos - s.duration;if(c >= s.scrollPos){e.css(gO(100));} else if(c <= z){e.css(gO(0));} else {o = 1-(s.scrollPos-c)/(s.scrollPos-z);e.css(gO(o*100));}}; var f = function(e){z = s.scrollPos - s.duration;t = s.startPos+s.z;c = gP(e);if(e.css('position') != 'absolute'){e.css({'position': 'relative'});}if(c >= s.scrollPos){e.css({'left': s.startPos+'px'});} else if(c <= z){e.css({'left': s.z+'px'});} else {$l = (t)*((s.scrollPos-c)/(s.scrollPos-z));if(e.css('position') != 'absolute'){l = t - $l;}else{l = $l;}e.css({'left': l+'px'});}}; return this.each(function() {if ( s.action === "fadeIn") {return i($( this ));}if ( s.action === "fadeOut" ) {return n($( this ));}if ( s.action === "flyIn" ) {return f($( this ));}});};}( jQuery ));